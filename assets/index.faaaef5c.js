import{j as o,S as J,p as u,C as K,g,T as W,f as h,a as Y,A as X,b as C,B as E,c as Q,G as i,d as x,e as d,h as l,s as H,i as L,n as Z,k as w,m as R,l as b,o as j,q as B,r as N,t as ee,u as te,v as re,w as ne,x as se,y as oe,z as ce,D as ae,E as ie,F as le,H as ue,I as de,J as pe}from"./vendor.e99c941f.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();const he=({list:e,active:r,select:c})=>o(J,{direction:"row",spacing:1,children:e.map(n=>u(r!==null&&r.code===n.code,t=>o(K,{sx:{backgroundColor:s=>t?s.palette.primary.light:g[100],border:s=>`1px solid ${t?s.palette.primary.dark:g[600]}`,"&:hover":{backgroundColor:s=>t?s.palette.primary.light:g[300]}},color:t?"primary":"default",label:n.code.toUpperCase(),onClick:()=>c(n),clickable:!0},n.code)))}),p=({onValueChange:e,...r})=>o(W,{InputLabelProps:{shrink:!0},onChange:c=>e&&e(c.target.value),sx:{width:"100%",...r==null?void 0:r.sx},...r}),me=Q({ignoreCase:!0,stringify:e=>e.code+e.title}),ye=({value:e,currencies:r,select:c})=>o(X,{value:e,options:r,filterOptions:me,isOptionEqualToValue:(n,t)=>n.code===t.code,getOptionLabel:({code:n})=>n.toUpperCase(),onChange:(n,t)=>t&&c(t),autoHighlight:!0,renderOption:(n,t)=>C(E,{component:"li",...n,children:["(",t.code.toUpperCase(),") ",t.title]}),renderInput:n=>o(p,{...n,label:"Select currency",inputProps:{...n.inputProps,autoComplete:"new-password"}})}),fe=({currencies:e,value:r,select:c})=>u(e,h(()=>o(p,{disabled:!0,value:"loading currencies..."}),n=>u(n,Y(()=>o(p,{disabled:!0,value:"Unable to load currencies"}),t=>o(ye,{select:c,currencies:t,value:r}))))),ge=e=>e===""?e:Number(e),S=({currenciesToSelect:e,activeCurrency:r,setCurrency:c,value:n,setValue:t,history:s,reverse:a=!1})=>C(i,{container:!0,direction:a?"column-reverse":"column",spacing:2,children:[o(i,{item:!0,children:o(he,{active:r,select:c,list:s})}),o(i,{item:!0,children:o(fe,{currencies:e,select:c,value:r})}),o(i,{item:!0,children:o(p,{disabled:r==null,onValueChange:x(ge,t),type:"number",value:n})})]}),Ce="latest",T=(e,r)=>`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/${e}/${r}`,[$,Ve]=d(),xe=e=>Object.entries(e).map(([r,c])=>({code:r,title:c})),k=()=>async e=>e.ok?e.json():e.text().then(r=>Promise.reject(r)),v=e=>ee(B(te({error:!0,message:e.message}))),[be]=l($.pipe(H(Ce),L(e=>w(T(e,"currencies.min.json")).pipe(R(k()),b(x(xe,N,B)),j(v)))),Z),Be=e=>({date:e.date,currency:"usd",rate:e.usd}),[_e,Se]=l($.pipe(H("latest"),L(e=>w(T(e,"currencies/usd.min.json")).pipe(R(k()),b(x(Be,N,B)),j(v))))),Ae=()=>o(E,{sx:{padding:2,display:"flex",justifyContent:"center"},children:o(re,{color:"action",fontSize:"large"})}),Oe=e=>()=>ne(localStorage.getItem(e)),Ie=(e,r)=>se(()=>(localStorage.setItem(e,JSON.stringify(r)),r),oe),[m,Ee]=d(),[y,He]=d(),[Le]=l(m,null),[we]=l(y,null),Re=(e,r)=>(Ie(r,e)(),e),F=e=>u(Oe(e)(),h(()=>[],JSON.parse)),P=(e,r,c=[])=>e.pipe(ae((n,t)=>u(n,ue(s=>s.code==t.code),h(()=>Re([t,...n],r),()=>n)),c)),U="HISTORY_A",V="HISTORY_B",A=F(U),O=F(V),[je]=l(P(m,U,A),A),[Ne]=l(P(y,V,O),O),[Te,_]=d(),[$e,D]=d(),ke=h(()=>null,ce(()=>null)),M=(e,r,c,n)=>ie([e,r,c,Se]).pipe(b(([[t,s],a,q,z])=>{if(s){const f=ke(z);if(t!==""){if(f){const G=t/f.rate[a.code]*f.rate[q.code];n([Number(G.toFixed(2)),!1])}}else n(["",!1])}return t})),[ve]=l(M(Te,m,y,D),""),[Fe]=l(M($e,y,m,_),""),I=e=>r=>{e([r,!0])},Pe=()=>{const e=be(),r=ve(),c=Fe(),n=je(),t=Ne(),s=Le(),a=we();return o(le,{maxWidth:"sm",sx:{height:"100%",display:"flex",alignItems:"center"},children:C(i,{container:!0,direction:"column",children:[o(i,{item:!0,children:o(S,{value:r,setCurrency:Ee,currenciesToSelect:e,history:n,activeCurrency:s,setValue:I(_)})}),o(i,{item:!0,children:o(Ae,{})}),o(i,{item:!0,children:o(S,{reverse:!0,value:c,setCurrency:He,currenciesToSelect:e,history:t,activeCurrency:a,setValue:I(D)})})]})})};de(document.getElementById("root")).render(o(pe.exports.StrictMode,{children:o(Pe,{})}));
