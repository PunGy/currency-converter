import{j as c,S as te,p as h,C as re,g as C,T as se,f as u,a as ne,A as ce,b as x,B as T,c as oe,G as i,d,e as p,h as l,s as H,i as w,n as ae,k as N,m as R,l as S,o as b,r as j,q as _,t as ie,u as le,v as ue,w as de,x as pe,y as he,z as $,D as me,E as ye,F as fe,H as ge,I as Ce,J as xe,K as Se}from"./vendor.7d90017f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const be=({list:e,active:t,select:o})=>c(te,{direction:"row",spacing:1,children:e.map(s=>h(t!==null&&t.code===s.code,r=>c(re,{sx:{backgroundColor:n=>r?n.palette.primary.light:C[100],border:n=>`1px solid ${r?n.palette.primary.dark:C[600]}`,"&:hover":{backgroundColor:n=>r?n.palette.primary.light:C[300]}},color:r?"primary":"default",label:s.code.toUpperCase(),onClick:()=>o(s),clickable:!0},s.code)))}),m=({onValueChange:e,...t})=>c(se,{InputLabelProps:{shrink:!0},onChange:o=>e&&e(o.target.value),sx:{width:"100%",...t==null?void 0:t.sx},...t}),Ae=oe({ignoreCase:!0,stringify:e=>e.code+e.title}),Be=({value:e,currencies:t,select:o})=>c(ce,{value:e,options:t,filterOptions:Ae,isOptionEqualToValue:(s,r)=>s.code===r.code,getOptionLabel:({code:s})=>s.toUpperCase(),onChange:(s,r)=>r&&o(r),autoHighlight:!0,renderOption:(s,r)=>x(T,{component:"li",...s,children:["(",r.code.toUpperCase(),") ",r.title]}),renderInput:s=>c(m,{...s,label:"Select currency",inputProps:{...s.inputProps,autoComplete:"new-password"}})}),Oe=({currencies:e,value:t,select:o})=>h(e,u(()=>c(m,{disabled:!0,value:"loading currencies..."}),s=>h(s,ne(()=>c(m,{disabled:!0,value:"Unable to load currencies"}),r=>c(Be,{select:o,currencies:r,value:t}))))),Ee=e=>e===""?e:Number(e),A=({currenciesToSelect:e,activeCurrency:t,setCurrency:o,value:s,setValue:r,history:n,reverse:a=!1})=>x(i,{container:!0,direction:a?"column-reverse":"column",spacing:2,children:[c(i,{item:!0,children:c(be,{active:t,select:o,list:n})}),c(i,{item:!0,children:c(Oe,{currencies:e,select:o,value:t})}),c(i,{item:!0,children:c(m,{disabled:t==null,onValueChange:d(Ee,r),type:"number",value:s})})]}),k="latest",v=(e,t)=>`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/${e}/${t}`,[F,Je]=p(),Le=e=>Object.entries(e).map(([t,o])=>({code:t,title:o})),K=()=>async e=>e.ok?e.json():e.text().then(t=>Promise.reject(t)),P=e=>ie(b(le({error:!0,message:e.message}))),[Ie]=l(F.pipe(H(k),w(e=>N(v(e,"currencies.min.json")).pipe(R(K()),S(d(Le,j,b)),_(P)))),ae),Te=e=>({date:e.date,currency:"usd",rate:e.usd}),[qe,He]=l(F.pipe(H(k),w(e=>N(v(e,"currencies/usd.min.json")).pipe(R(K()),S(d(Te,j,b)),_(P))))),we=()=>c(T,{sx:{padding:2,display:"flex",justifyContent:"center"},children:c(ue,{color:"action",fontSize:"large"})}),U=e=>()=>de(localStorage.getItem(e)),V=(e,t)=>pe(()=>(localStorage.setItem(e,JSON.stringify(t)),t),he),D=e=>t=>(V(e,t)(),t),M=e=>d(U(e),u(()=>null,JSON.parse))(),Ne=(e,t)=>(V(t,e)(),e),G=e=>d(U(e),u(()=>[],JSON.parse))(),[y,Re]=p(),[f,je]=p(),B="LATEST_A",O="LATEST_B",[_e]=l(y.pipe($(D(B))),M(B)),[$e]=l(f.pipe($(D(O))),M(O)),ke=5,J=(e,t,o=[])=>e.pipe(ye((s,r)=>h(s,Ce(n=>n.code==r.code),u(()=>Ne([r,...s.length>=ke?s.slice(0,-1):s],t),()=>s)),o)),q="HISTORY_A",z="HISTORY_B",E=G(q),L=G(z),[ve]=l(J(y,q,E),E),[Fe]=l(J(f,z,L),L),[Ke,Y]=p(),[Pe,W]=p(),Ue=u(()=>null,me(()=>null)),X=(e,t,o,s)=>fe([e,t,o,He]).pipe(S(([[r,n],a,Q,Z])=>{if(n){const g=Ue(Z);if(r!==""){if(g){const ee=r/g.rate[a.code]*g.rate[Q.code];s([Number(ee.toFixed(2)),!1])}}else s(["",!1])}return r})),[Ve]=l(X(Ke,y,f,W),""),[De]=l(X(Pe,f,y,Y),""),I=e=>t=>{e([t,!0])},Me=()=>{const e=Ie(),t=Ve(),o=De(),s=ve(),r=Fe(),n=_e(),a=$e();return c(ge,{maxWidth:"sm",sx:{height:"100%",display:"flex",alignItems:"center"},children:x(i,{container:!0,direction:"column",children:[c(i,{item:!0,children:c(A,{value:t,setCurrency:Re,currenciesToSelect:e,history:s,activeCurrency:n,setValue:I(Y)})}),c(i,{item:!0,children:c(we,{})}),c(i,{item:!0,children:c(A,{reverse:!0,value:o,setCurrency:je,currenciesToSelect:e,history:r,activeCurrency:a,setValue:I(W)})})]})})};xe(document.getElementById("root")).render(c(Se.exports.StrictMode,{children:c(Me,{})}));
