(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{107:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(29),o=n.n(r),l=(n(107),n(173)),u=n(172),i=n(171),s=n(168),p=n(86),d=n.n(p),j=n(13),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return fetch("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/".concat(t,"/").concat(e)).then((function(e){return e.json()}))},h=function(e){return b("currencies/".concat(e,".json")).then((function(t){return{date:t.date,currency:e,rate:t[e]}}))},x=n(36),g=n(157),O=n(165),f=n(166),m=n(2),C=Object(g.a)({ignoreCase:!0,stringify:function(e){return e.code+e.label}}),y=function(e){var t=e.currencies,n=e.label,c=e.onSelect,a=e.value;return Object(m.jsx)(O.a,{onChange:function(e,t){return t&&c(t)},filterOptions:C,sx:{width:300},options:t,value:a,autoHighlight:!0,getOptionLabel:function(e){return e.code.toUpperCase()},renderOption:function(e,t){return Object(m.jsxs)(u.a,Object(x.a)(Object(x.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:["(",t.code.toUpperCase(),") ",t.label]}))},renderInput:function(e){return Object(m.jsx)(f.a,Object(x.a)(Object(x.a)({},e),{},{label:n,inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}})},v=n(169),S=n(164),k=n(84),I=n(76);var w=({list:e,selected:t,onSelectCurrency:n,...c})=>Object(m.jsx)(S.a,{direction:"row",spacing:1,...c,children:e.map((e=>{const c=null!==t&&e.code===t.code;return Object(m.jsx)(v.a,{sx:{backgroundColor:e=>c?Object(I.alpha)(e.palette.primary.light,.4):k.a[100],border:e=>"1px solid ".concat(c?e.palette.primary.dark:k.a[600]),"&:hover":{backgroundColor:e=>c?Object(I.alpha)(e.palette.primary.light,.6):k.a[300]}},color:c?"primary":"default",label:e.code.toUpperCase(),onClick:()=>n(e),clickable:!0},e.code)}))});var F=e=>Object(m.jsx)(f.a,{sx:{width:300},type:"number",InputLabelProps:{shrink:!0},...e});const P=e=>t=>t.find((t=>t.code===e.code))?t:[e].concat(t.slice(0,4)),R=({input:e,updateInput:t,updateOutput:n,inputCurrency:c,outputCurrency:a,exchangeRate:r})=>{if(t((()=>e)),null!=c&&null!=a&&null!=r){const t=+e,o=r.currency===c.code?t*r.rate[a.code]:t/r.rate[c.code];n((()=>o.toFixed(2)))}};var J=function(){const[e,t]=a.a.useState([]),[n,c]=a.a.useState(null),[r,o]=a.a.useState(null),[p,x]=a.a.useState([]),[g,O]=a.a.useState([]),[f,C]=a.a.useState(""),[v,S]=a.a.useState(""),[k,I]=a.a.useState();a.a.useEffect((()=>{b("currencies.json").then((function(e){return Object.entries(e).map((function(e){var t=Object(j.a)(e,2);return{code:t[0],label:t[1]}}))})).then(t).catch(console.log);const e=localStorage.getItem("latest-currencies-top"),n=localStorage.getItem("latest-currencies-bottom");null!=e&&x(JSON.parse(e)),null!=n&&O(JSON.parse(n))}),[]);const J=a.a.useCallback(((e,t={})=>R({input:"object"===typeof e?e.target.value:e,inputCurrency:n,outputCurrency:r,updateInput:C,updateOutput:S,exchangeRate:k,...t})),[n,r,k]),L=a.a.useCallback(((e,t={})=>R({input:"object"===typeof e?e.target.value:e,inputCurrency:r,outputCurrency:n,updateInput:S,updateOutput:C,exchangeRate:k,...t})),[n,r,k]),B=a.a.useCallback((e=>{c(e),x(P(e)),h(e.code).then((e=>{I(e),J(f,{exchangeRate:e})}))}),[f]),T=a.a.useCallback((e=>{o(e),O(P(e)),h(e.code).then((e=>{I(e),J(v,{exchangeRate:e})}))}),[v]);return Object(m.jsx)(l.a,{sx:{height:"100vh"},children:Object(m.jsx)(u.a,{sx:{height:"100%",display:"flex",alignItems:"center"},children:Object(m.jsxs)(i.a,{sx:{width:"100%",padding:2},children:[Object(m.jsxs)(s.a,{container:!0,direction:"column",spacing:2,alignContent:"center",sx:{position:"relative",paddingTop:"40px"},children:[Object(m.jsxs)(s.a,{item:!0,children:[Object(m.jsx)(w,{sx:{position:"absolute",top:10},selected:n,list:p,onSelectCurrency:B}),Object(m.jsx)(y,{value:n,onSelect:B,label:"Select currency",currencies:e})]}),Object(m.jsx)(s.a,{item:!0,children:Object(m.jsx)(F,{value:f,onChange:J,label:"Amount",disabled:null==n})})]}),Object(m.jsx)(u.a,{sx:{padding:2,display:"flex",justifyContent:"center"},children:Object(m.jsx)(d.a,{color:"action",fontSize:"large"})}),Object(m.jsxs)(s.a,{container:!0,direction:"column",spacing:2,alignContent:"center",sx:{position:"relative",paddingBottom:"40px"},children:[Object(m.jsx)(s.a,{item:!0,children:Object(m.jsx)(F,{value:v,onChange:L,label:"Amount",disabled:null==r})}),Object(m.jsxs)(s.a,{item:!0,children:[Object(m.jsx)(y,{value:r,onSelect:T,label:"Select currency",currencies:e}),Object(m.jsx)(w,{sx:{position:"absolute",bottom:0},selected:r,list:g,onSelectCurrency:T})]})]})]})})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},B=n(87),T=n(170),U=Object(B.a)({palette:{primary:{main:"#63d3d3"}}});o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(T.a,{theme:U,children:Object(m.jsx)(J,{})})}),document.getElementById("root")),L()}},[[116,1,2]]]);
//# sourceMappingURL=main.18f26178.chunk.js.map