(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(30),o=n.n(a),u=(n(97),n(20)),i=n(10),l=n(166),s=n(165),d=n(164),p=n(161),b=n(73),j=n.n(b),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return fetch("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/".concat(t,"/").concat(e)).then((function(e){return e.json()}))},f=n(149),h=n(158),g=n(159),x=n(2),v=Object(f.a)({ignoreCase:!0,stringify:function(e){return e.code+e.label}}),m=function(e){var t=e.currencies,n=e.label,c=e.onSelect,r=e.value;return Object(x.jsx)(h.a,{onChange:function(e,t){return t&&c(t)},filterOptions:v,sx:{width:300},options:t,value:r,autoHighlight:!0,getOptionLabel:function(e){return e.code.toUpperCase()},isOptionEqualToValue:function(e,t){return e.code===t.code},renderOption:function(e,t){return Object(x.jsxs)(s.a,Object(u.a)(Object(u.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:["(",t.code.toUpperCase(),") ",t.label]}))},renderInput:function(e){return Object(x.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{label:n,inputProps:Object(u.a)(Object(u.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}})},y=n(75),C=n(162),S=n(157),k=n(71),I=function(e){var t=e.list,n=e.selected,c=e.onSelectCurrency,r=Object(y.a)(e,["list","selected","onSelectCurrency"]);return Object(x.jsx)(S.a,Object(u.a)(Object(u.a)({direction:"row",spacing:1},r),{},{children:t.map((function(e){var t=null!==n&&e.code===n.code;return Object(x.jsx)(C.a,{sx:{backgroundColor:function(e){return t?e.palette.primary.light:k.a[100]},border:function(e){return"1px solid ".concat(t?e.palette.primary.dark:k.a[600])},"&:hover":{backgroundColor:function(e){return t?e.palette.primary.light:k.a[300]}}},color:t?"primary":"default",label:e.code.toUpperCase(),onClick:function(){return c(e)},clickable:!0},e.code)}))}))};var w=e=>Object(x.jsx)(g.a,{sx:{width:300},type:"number",InputLabelProps:{shrink:!0},...e}),J=function(e,t){return t.find((function(t){return t.code===e.code}))?t:[e].concat(t.slice(0,4))},F=function(e){var t=e.input,n=e.updateInput,c=e.updateOutput,r=e.inputCurrency,a=e.outputCurrency,o=e.exchangeRate;if(n((function(){return t})),null!=r&&null!=a&&null!=o){var u=+t,i=o.currency===r.code?u*o.rate[a.code]:u/o.rate[r.code];c((function(){return i.toFixed(2)}))}};var P=function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=r.a.useState(null),o=Object(i.a)(a,2),b=o[0],f=o[1],h=r.a.useState(null),g=Object(i.a)(h,2),v=g[0],y=g[1],C=r.a.useState([]),S=Object(i.a)(C,2),k=S[0],P=S[1],L=r.a.useState([]),N=Object(i.a)(L,2),R=N[0],T=N[1],B=r.a.useState(""),E=Object(i.a)(B,2),U=E[0],z=E[1],A=r.a.useState(""),q=Object(i.a)(A,2),D=q[0],H=q[1],M=r.a.useState(),V=Object(i.a)(M,2),G=V[0],K=V[1];r.a.useEffect((function(){O("currencies.json").then((function(e){return Object.entries(e).map((function(e){var t=Object(i.a)(e,2);return{code:t[0],label:t[1]}}))})).then(c).catch(console.log);var e=localStorage.getItem("latest-currencies-top"),t=localStorage.getItem("latest-currencies-bottom");null!=e&&P(JSON.parse(e)),null!=t&&T(JSON.parse(t))}),[]);var Q=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return F(Object(u.a)({input:"object"===typeof e?e.target.value:e,inputCurrency:b,outputCurrency:v,updateInput:z,updateOutput:H,exchangeRate:G},t))}),[b,v,G]),W=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return F(Object(u.a)({input:"object"===typeof e?e.target.value:e,inputCurrency:v,outputCurrency:b,updateInput:H,updateOutput:z,exchangeRate:G},t))}),[b,v,G]),X=r.a.useCallback((function(e){(null===b||void 0===b?void 0:b.code)!==e.code&&(f(e),P((function(t){var n=J(e,t);return localStorage.setItem("latest-currencies-top",JSON.stringify(n)),n})),function(e){return O("currencies/".concat(e,".json")).then((function(t){return{date:t.date,currency:e,rate:t[e]}}))}(e.code).then((function(t){K(t),Q(U,{inputCurrency:e,exchangeRate:t})})))}),[U,b,Q]),Y=r.a.useCallback((function(e){(null===v||void 0===v?void 0:v.code)!==e.code&&(y(e),T((function(t){var n=J(e,t);return localStorage.setItem("latest-currencies-bottom",JSON.stringify(n)),n})),Q(U,{outputCurrency:e}))}),[U,Q,v]);return Object(x.jsx)(l.a,{sx:{height:"100vh"},children:Object(x.jsx)(s.a,{sx:{height:"100%",display:"flex",alignItems:"center"},children:Object(x.jsxs)(d.a,{sx:{width:"100%",padding:2},children:[Object(x.jsxs)(p.a,{container:!0,direction:"column",spacing:2,alignContent:"center",sx:{position:"relative",paddingTop:"40px"},children:[Object(x.jsxs)(p.a,{item:!0,children:[Object(x.jsx)(I,{sx:{position:"absolute",top:10},selected:b,list:k,onSelectCurrency:X}),Object(x.jsx)(m,{value:b,onSelect:X,label:"Select currency",currencies:n})]}),Object(x.jsx)(p.a,{item:!0,children:Object(x.jsx)(w,{value:U,onChange:Q,label:"Amount",disabled:null==b})})]}),Object(x.jsx)(s.a,{sx:{padding:2,display:"flex",justifyContent:"center"},children:Object(x.jsx)(j.a,{color:"action",fontSize:"large"})}),Object(x.jsxs)(p.a,{container:!0,direction:"column",spacing:2,alignContent:"center",sx:{position:"relative",paddingBottom:"40px"},children:[Object(x.jsx)(p.a,{item:!0,children:Object(x.jsx)(w,{value:D,onChange:W,label:"Amount",disabled:null==v})}),Object(x.jsxs)(p.a,{item:!0,children:[Object(x.jsx)(m,{value:v,onSelect:Y,label:"Select currency",currencies:n}),Object(x.jsx)(I,{sx:{position:"absolute",bottom:0},selected:v,list:R,onSelectCurrency:Y})]})]})]})})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},N=n(74),R=n(163),T=Object(N.a)({palette:{primary:{main:"#63d3d3"}}});o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(R.a,{theme:T,children:Object(x.jsx)(P,{})})}),document.getElementById("root")),L()},97:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.db75a1d9.chunk.js.map