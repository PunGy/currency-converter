(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{107:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(30),u=n.n(r),o=(n(107),n(24)),i=n(11),l=n(173),s=n(172),p=n(171),d=n(168),b=n(86),j=n.n(b),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return fetch("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/".concat(t,"/").concat(e)).then((function(e){return e.json()}))},O=n(157),g=n(165),x=n(166),f=n(2),m=Object(O.a)({ignoreCase:!0,stringify:function(e){return e.code+e.label}}),y=function(e){var t=e.currencies,n=e.label,c=e.onSelect,a=e.value;return Object(f.jsx)(g.a,{onChange:function(e,t){return t&&c(t)},filterOptions:m,sx:{width:300},options:t,value:a,autoHighlight:!0,getOptionLabel:function(e){return e.code.toUpperCase()},renderOption:function(e,t){return Object(f.jsxs)(s.a,Object(o.a)(Object(o.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:["(",t.code.toUpperCase(),") ",t.label]}))},renderInput:function(e){return Object(f.jsx)(x.a,Object(o.a)(Object(o.a)({},e),{},{label:n,inputProps:Object(o.a)(Object(o.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}})},v=n(169),C=n(164),S=n(84),I=n(76);var k=({list:e,selected:t,onSelectCurrency:n,...c})=>Object(f.jsx)(C.a,{direction:"row",spacing:1,...c,children:e.map((e=>{const c=null!==t&&e.code===t.code;return Object(f.jsx)(v.a,{sx:{backgroundColor:e=>c?Object(I.alpha)(e.palette.primary.light,.4):S.a[100],border:e=>"1px solid ".concat(c?e.palette.primary.dark:S.a[600]),"&:hover":{backgroundColor:e=>c?Object(I.alpha)(e.palette.primary.light,.6):S.a[300]}},color:c?"primary":"default",label:e.code.toUpperCase(),onClick:()=>n(e),clickable:!0},e.code)}))});var w=e=>Object(f.jsx)(x.a,{sx:{width:300},type:"number",InputLabelProps:{shrink:!0},...e}),E=function(e){var t=e.input,n=e.updateInput,c=e.updateOutput,a=e.inputCurrency,r=e.outputCurrency,u=e.exchangeRate;if(n((function(){return t})),null!=a&&null!=r&&null!=u){var o=+t,i=u.currency===a.code?o*u.rate[r.code]:o/u.rate[a.code];c((function(){return i.toFixed(2)}))}},F=function(e){var t=e.amount,n=e.currency,c=e.updateInput,a=e.updateCurrencyList,r=e.setExchangeRate,u=e.performExchangeOnField,o=e.localStorageKey;c(n),a((function(e){var t,c=(t=n,function(e){return e.find((function(e){return e.code===t.code}))?e:[t].concat(e.slice(0,4))})(e);return localStorage.setItem(o,JSON.stringify(c)),c})),function(e){return h("currencies/".concat(e,".json")).then((function(t){return{date:t.date,currency:e,rate:t[e]}}))}(n.code).then((function(e){r(e),u(t,{exchangeRate:e})}))};var L=function(){var e=a.a.useState([]),t=Object(i.a)(e,2),n=t[0],c=t[1],r=a.a.useState(null),u=Object(i.a)(r,2),b=u[0],O=u[1],g=a.a.useState(null),x=Object(i.a)(g,2),m=x[0],v=x[1],C=a.a.useState([]),S=Object(i.a)(C,2),I=S[0],L=S[1],R=a.a.useState([]),J=Object(i.a)(R,2),P=J[0],B=J[1],K=a.a.useState(""),N=Object(i.a)(K,2),T=N[0],U=N[1],z=a.a.useState(""),A=Object(i.a)(z,2),D=A[0],H=A[1],M=a.a.useState(),q=Object(i.a)(M,2),G=q[0],Q=q[1];a.a.useEffect((function(){h("currencies.json").then((function(e){return Object.entries(e).map((function(e){var t=Object(i.a)(e,2);return{code:t[0],label:t[1]}}))})).then(c).catch(console.log);var e=localStorage.getItem("latest-currencies-top"),t=localStorage.getItem("latest-currencies-bottom");null!=e&&L(JSON.parse(e)),null!=t&&B(JSON.parse(t))}),[]);var V=a.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(Object(o.a)({input:"object"===typeof e?e.target.value:e,inputCurrency:b,outputCurrency:m,updateInput:U,updateOutput:H,exchangeRate:G},t))}),[b,m,G]),W=a.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(Object(o.a)({input:"object"===typeof e?e.target.value:e,inputCurrency:m,outputCurrency:b,updateInput:H,updateOutput:U,exchangeRate:G},t))}),[b,m,G]),X=a.a.useCallback((function(e){return F({amount:T,currency:e,updateInput:O,updateCurrencyList:L,setExchangeRate:Q,performExchangeOnField:V,localStorageKey:"latest-currencies-top"})}),[T]),Y=a.a.useCallback((function(e){return F({amount:T,currency:e,updateInput:v,updateCurrencyList:B,setExchangeRate:Q,performExchangeOnField:V,localStorageKey:"latest-currencies-bottom"})}),[D]);return Object(f.jsx)(l.a,{sx:{height:"100vh"},children:Object(f.jsx)(s.a,{sx:{height:"100%",display:"flex",alignItems:"center"},children:Object(f.jsxs)(p.a,{sx:{width:"100%",padding:2},children:[Object(f.jsxs)(d.a,{container:!0,direction:"column",spacing:2,alignContent:"center",sx:{position:"relative",paddingTop:"40px"},children:[Object(f.jsxs)(d.a,{item:!0,children:[Object(f.jsx)(k,{sx:{position:"absolute",top:10},selected:b,list:I,onSelectCurrency:X}),Object(f.jsx)(y,{value:b,onSelect:X,label:"Select currency",currencies:n})]}),Object(f.jsx)(d.a,{item:!0,children:Object(f.jsx)(w,{value:T,onChange:V,label:"Amount",disabled:null==b})})]}),Object(f.jsx)(s.a,{sx:{padding:2,display:"flex",justifyContent:"center"},children:Object(f.jsx)(j.a,{color:"action",fontSize:"large"})}),Object(f.jsxs)(d.a,{container:!0,direction:"column",spacing:2,alignContent:"center",sx:{position:"relative",paddingBottom:"40px"},children:[Object(f.jsx)(d.a,{item:!0,children:Object(f.jsx)(w,{value:D,onChange:W,label:"Amount",disabled:null==m})}),Object(f.jsxs)(d.a,{item:!0,children:[Object(f.jsx)(y,{value:m,onSelect:Y,label:"Select currency",currencies:n}),Object(f.jsx)(k,{sx:{position:"absolute",bottom:0},selected:m,list:P,onSelectCurrency:Y})]})]})]})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,u=t.getTTFB;n(e),c(e),a(e),r(e),u(e)}))},J=n(87),P=n(170),B=Object(J.a)({palette:{primary:{main:"#63d3d3"}}});u.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(P.a,{theme:B,children:Object(f.jsx)(L,{})})}),document.getElementById("root")),R()}},[[116,1,2]]]);
//# sourceMappingURL=main.b4c2f90e.chunk.js.map